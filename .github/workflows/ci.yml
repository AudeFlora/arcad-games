name: CI Simple

on:
  push:
    branches: [main, dev]

jobs:
  validation:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout du code
      uses: actions/checkout@v4
      
    - name: VÃ©rifier le code
      run: |
        echo "ğŸ“ Liste des fichiers :"
        ls -la
        
        echo ""
        echo "âœ… VÃ©rification du fichier HTML..."
        
        # Cherche index.html Ã  la racine OU dans src/
        if [ -f "index.html" ]; then
          FILE="index.html"
        elif [ -f "src/index.html" ]; then
          FILE="src/index.html"
        else
          echo "âŒ Fichier index.html introuvable"
          exit 1
        fi
        
        echo "ğŸ“Š Fichier trouvÃ© : $FILE"
        echo "ğŸ“Š Taille : $(wc -l < $FILE) lignes"
        
        if grep -q "<!DOCTYPE html>" "$FILE"; then
          echo "âœ… Structure HTML correcte"
        else
          echo "âŒ ProblÃ¨me de structure HTML"
          exit 1
        fi
        
        echo "ğŸ‰ Validation rÃ©ussie !"